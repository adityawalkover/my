<!DOCTYPE html>
<html lang="en">
 <head>
    <script src='https://cdn.tiny.cloud/1/no-api-key/tinymce/5/tinymce.min.js' referrerpolicy="origin"></script>
    <script>
      tinymce.init({
        selector: '#myTextarea',
        height: 400,
        plugins: 'lists, link, image, media,autosave',
        toolbar: 'h1 h2 bold italic strikethrough blockquote bullist numlist forecolor backcolor | link image media | removeformat help',
        menubar: false,
        setup: function (editor) {
      editor.on('init change NodeChange Dirty', function (e) {
        // 1. use getContent() to extract the editor's current HTML 
        // 2. send the HTML to your server
       // tinymce.get("myTextarea").setContent("<p>Hello world! i am here</p>");

        var myContent = tinymce.get("myTextarea").getContent();
socket.emit('editor-content',myContent);
        console.log("the output is here",myContent);

      });    
    }
      });
    </script>
 </head>
 <body>
   
   <textarea id="myTextarea" rows="10" cols="80"></textarea>
   <p></p>
  
   <script src="/socket.io/socket.io.js"></script>
   <script>
     var socket = io();
     socket.on('editor-content',function(text){
     // document.getElementById("myTextarea").textContent+=text; 
      tinymce.get("myTextarea").setContent(text);
     })

   </script>
 </body>
</html>